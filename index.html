<!DOCTYPE html>
<html>
<head>
  <title>Fame Coin Chart</title>
  <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
  <style>
    body {
      background: #000;
      color: white;
      text-align: center;
    }
    #chart {
      width: 100%;
      height: 500px;
      margin: auto;
    }
  </style>
</head>
<body>
  <h1>ðŸ”¥ FAME COIN LIVE CHART ðŸ”¥</h1>
  <div id="chart"></div>

  <script>
    const chart = LightweightCharts.createChart(document.getElementById('chart'), {
      width: 900,
      height: 500,
      layout: {
        backgroundColor: '#000000',
        textColor: '#FFFFFF',
      },
      grid: {
        vertLines: {
          color: '#444',
        },
        horzLines: {
          color: '#444',
        },
      },
      timeScale: {
        timeVisible: true,
        secondsVisible: true,
      },
    });

    const candleSeries = chart.addCandlestickSeries();

    // Initial Candle Data
    let lastClose = 0.08;
    let lastTime = Math.floor(Date.now() / 1000);

    const createNextCandle = () => {
      const time = lastTime + 3; // next candle in 3 sec
      const open = lastClose;
      const change = (Math.random() - 0.5) * 0.02;
      const close = +(open + change).toFixed(4);
      const high = Math.max(open, close) + +(Math.random() * 0.01).toFixed(4);
      const low = Math.min(open, close) - +(Math.random() * 0.01).toFixed(4);

      lastClose = close;
      lastTime = time;

      return {
        time: time,
        open: open,
        high: +high.toFixed(4),
        low: +low.toFixed(4),
        close: close,
      };
    };

    // Initial seed data
    const seedData = [];
    for (let i = 0; i < 20; i++) {
      seedData.push(createNextCandle());
    }

    candleSeries.setData(seedData);

    // Add new candle every 3 seconds
    setInterval(() => {
      const newCandle = createNextCandle();
      candleSeries.update(newCandle);
    }, 3000);
  </script>
</body>
</html>
